{"version":3,"sources":["pages/Anniversary/img/illustration.svg","pages/Anniversary/img/illustration-m.svg","pages/Anniversary/img/activity1.png","pages/Anniversary/img/activity2.svg","pages/Anniversary/img/activity3.svg","pages/Anniversary/img/activity5.svg","pages/Anniversary/img/activity4.svg","pages/Anniversary/img/activity6.svg","pages/Anniversary/img/activity7.svg","pages/Anniversary/img/activity8.svg","pages/Anniversary/img/activity10.svg","pages/Anniversary/img/activity9.svg","pages/Anniversary/img/activity11.svg","pages/Anniversary/Anniversary.js"],"names":["Card","info","wallet","useState","timeText","setTimeText","isCheckIn","setIsCheckIn","isDrop","setIsDrop","isStart","setIsStrat","getIsCheckIn","useCallback","axios","get","params","address","detail","account","res","console","log","data","result","status","toLocaleLowerCase","now","Date","utc10","getUTCFullYear","getUTCMonth","getUTCDate","utc10timestamp","getTime","yesterday","yesterdayYear","getFullYear","yesterdayMonth","getMonth","yesterdayDate","getDate","timestamp","date","year","month","day","checkIn","path","post","bool","click","isWallet","window","open","link","useEffect","outTime","time","setInterval","lefttime","d","parseInt","h","m","text","clearInterval","className","classNames","id","src","img","alt","Button","onClick","label","buttonText","inject","observer","intl","lang","useLang","dict","walletContext","useWallet","location","useLocation","list","useMemo","activtiy3","activtiy1","activtiy2","activtiy5","activtiy6","activtiy7","activtiy11","activtiy10","activtiy8","useModal","preventScroll","closeOnOverlayClick","WalletModal","openWalletModal","closeWalletModal","isWrongNetwork","chainList","config","DeriEnv","pathname","supportedChains","Object","keys","find","key","match","RegExp","isConnected","includes","chainId","isMobile","illustrationm","illustration","Icon","token","SUPPORTED_WALLETS","connector","icon","width","connect","formatAddress","height","fontWeight","fontColor","fontSize","map","item","index","closeModal"],"mappings":"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","file":"static/js/34.542f6a6e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/illustration.2d456f8a.svg\";","export default __webpack_public_path__ + \"static/media/illustration-m.cd023351.svg\";","export default __webpack_public_path__ + \"static/media/activity1.b3bedb37.png\";","export default __webpack_public_path__ + \"static/media/activity2.fc93e0ae.svg\";","export default __webpack_public_path__ + \"static/media/activity3.cc263b01.svg\";","export default __webpack_public_path__ + \"static/media/activity5.973be675.svg\";","export default __webpack_public_path__ + \"static/media/activity4.24474c21.svg\";","export default __webpack_public_path__ + \"static/media/activity6.a11ec1b6.svg\";","export default __webpack_public_path__ + \"static/media/activity7.932723c2.svg\";","export default __webpack_public_path__ + \"static/media/activity8.984edc12.svg\";","export default __webpack_public_path__ + \"static/media/activity10.ded6e09d.svg\";","export default __webpack_public_path__ + \"static/media/activity9.94a8bfdf.svg\";","export default __webpack_public_path__ + \"static/media/activity11.0a4ab157.svg\";","import { inject, observer } from 'mobx-react';\r\nimport illustration from './img/illustration.svg';\r\nimport illustrationm from './img/illustration-m.svg';\r\nimport { DeriEnv } from \"../../lib/web3js/index\";\r\nimport './anniversary.less';\r\nimport WalletDialog from '../../components/WalletModal/WalletModal';\r\nimport useLang from '../../hooks/useLang';\r\nimport { useModal } from 'react-hooks-use-modal';\r\nimport Button from '../../components/Button/Button';\r\nimport { useWallet } from 'use-wallet';\r\nimport { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { SUPPORTED_WALLETS } from '../../utils/Constants';\r\nimport config from '../../page-network-config.json';\r\nimport { useLocation } from 'react-router';\r\nimport activtiy1 from './img/activity1.png'\r\nimport activtiy2 from './img/activity2.svg'\r\nimport activtiy3 from './img/activity3.svg'\r\nimport activtiy4 from './img/activity4.svg'\r\nimport activtiy5 from './img/activity5.svg'\r\nimport activtiy6 from './img/activity6.svg'\r\nimport activtiy7 from './img/activity7.svg'\r\nimport activtiy8 from './img/activity8.svg'\r\nimport activtiy9 from './img/activity9.svg'\r\nimport activtiy10 from './img/activity10.svg'\r\nimport activtiy11 from './img/activity11.svg'\r\nimport classNames from 'classnames';\r\nimport axios from 'axios';\r\nimport Icon from '../../components/Icon/Icon';\r\nimport { formatAddress, isMobile } from '../../utils/utils';\r\nfunction Anniversary({ wallet, intl }) {\r\n  const lang = useLang(intl.dict, 'header');\r\n  const walletContext = useWallet();\r\n  const location = useLocation();\r\n  const list = useMemo(() => ([\r\n    {\r\n      id: \"ACTIVITY 1\",\r\n      time: 1680256800,\r\n      img: activtiy3,\r\n      text: \"2nd Anniversary Mystery Box Campaign and Enjoy up to 100% Transaction Fee Rebate\",\r\n      link: \"https://deri-protocol.medium.com/deri-protocol-100-000-worth-of-mystery-box-campaign-31f34e309b08\",\r\n      buttonText: \"MORE DETAILS\",\r\n      isStart: true,\r\n      isWallet: true,\r\n    },\r\n\r\n    {\r\n      id: \"ACTIVITY 2\",\r\n      time: 1680256800,\r\n      img: activtiy1,\r\n      text: \"2nd Anniversary Special:  Enjoy a 10% Discount on Transaction Fees\",\r\n      link: \"https://deri-protocol.medium.com/exclusive-40-000-loyalty-program-for-existing-traders-3c232a3d97d0\",\r\n      buttonText: \"MORE DETAILS\",\r\n      isStart: true,\r\n    },\r\n    {\r\n      id: \"ACTIVITY 3\",\r\n      time: 1680256800,\r\n      img: activtiy2,\r\n      text: \"Maximize Your Profits with Our Exclusive $10,000 Giveaway for Degen Traders\",\r\n      link: \"https://deri-protocol.medium.com/exclusive-10-000-giveaway-for-degen-traders-d9167d84c564\",\r\n      buttonText: \"MORE DETAILS\",\r\n      isStart: true,\r\n    },\r\n    // {\r\n    //   id: \"ACTIVITY 4\",\r\n    //   time: 1677232800,\r\n    //   img: activtiy4,\r\n    //   text: \"Celebrate #DERITurns2 and Share a Prize Pool of $100\",\r\n    //   link: \"\",\r\n    //   buttonText: \"MORE DETAIL\",\r\n    //   isStart: true,\r\n    // },\r\n    {\r\n      id: \"ACTIVITY 4\",\r\n      time: 1677405600,\r\n      img: activtiy5,\r\n      text: \"Best Wishes to DERI and Share a Prize Pool of $300\",\r\n      link: \"https://twitter.com/DeriProtocol/status/1628665096208543744\",\r\n      buttonText: \"MORE DETAILS\",\r\n      isStart: true,\r\n    },\r\n    {\r\n      id: \"ACTIVITY 5\",\r\n      time: 1677837600,\r\n      img: activtiy6,\r\n      text: \"Create Birthday Card and Share a Prize Pool of $500\",\r\n      link: \"https://forms.gle/Gb9hyq8YbVKdB2eL7\",\r\n      buttonText: \"MORE DETAILS\",\r\n      isStart: true,\r\n    },\r\n    {\r\n      id: \"ACTIVITY 6\",\r\n      time: 1677848400,\r\n      img: activtiy7,\r\n      text: \"Come and Party with AribtrumNews DAO x Deri Protocol\",\r\n      link: \"https://galxe.com/DeriProtocol/campaign/GCH4LU4JnW\",\r\n      buttonText: \"MORE DETAILS\",\r\n      isStart: true,\r\n    },\r\n    {\r\n      id: \"ACTIVITY 7\",\r\n      time: 1678118400,\r\n      img: activtiy11,\r\n      text: \"Come and Party with Celer Network x Deri Protocol\",\r\n      link: \"https://galxe.com/DeriProtocol/campaign/GCY4cU4bx4\",\r\n      buttonText: \"MORE DETAILS\",\r\n      isStart: true,\r\n    },\r\n    // {\r\n    //   id: \"ACTIVITY 8\",\r\n    //   time: \"\",\r\n    //   img: activtiy9,\r\n    //   text: \"Come and Party with UniPass x Deri Protocol\",\r\n    //   link: \"\",\r\n    //   buttonText: \"COMING SOON\",\r\n    //   isStart: false,\r\n    // },\r\n    {\r\n      id: \"ACTIVITY 8\",\r\n      time: 1678269600,\r\n      img: activtiy10,\r\n      text: \"Come and Party with Aribtrum Today x Deri Protocol\",\r\n      link: \"https://galxe.com/DeriProtocol/campaign/GCQy3U4jMX\",\r\n      buttonText: \"MORE DETAILS\",\r\n      isStart: true,\r\n    },\r\n    {\r\n      id: \"ACTIVITY 9\",\r\n      time: \"\",\r\n      img: activtiy8,\r\n      text: \"Come and Party with Aribtrum Space x Deri Protocol\",\r\n      link: \"\",\r\n      buttonText: \"COMING SOON\",\r\n      isStart: false,\r\n    }\r\n  ]), [])\r\n  const [WalletModal, openWalletModal, closeWalletModal] = useModal('root', {\r\n    preventScroll: true,\r\n    closeOnOverlayClick: false\r\n  });\r\n\r\n  const isWrongNetwork = useCallback(() => {\r\n    const chainList = config[DeriEnv.get()];\r\n    const pathname = location.pathname;\r\n    const page = Object.keys(chainList).find(key => pathname.match(new RegExp(`^${key}`)))\r\n    const supportedChains = chainList[page]\r\n    if (walletContext.isConnected()) {\r\n      return supportedChains && !supportedChains.includes(walletContext.chainId)\r\n    }\r\n    return false\r\n  }, [walletContext, location])\r\n\r\n  return (<div className='anniversary-box'>\r\n    <div className='anniversary-illustration'>\r\n      <div className='illustration-box'>\r\n        <div className='illustration-left'>\r\n          <span className='color-text'>\r\n            DERI PROTOCOL\r\n          </span>\r\n          <div className='anniversary-title'>\r\n            2nd Anniversary Carnival &#129395; 🎉\r\n          </div>\r\n          <div className='rewards-text'>\r\n            $150,000 Total Rewards!\r\n          </div>\r\n          <div className='trade-type'>\r\n            <span>FUTURES</span>\r\n            <span className='option-type'>OPTIONS</span>\r\n            <span className='powers-type'>POWERS</span>\r\n            <span>GAMMA</span>\r\n          </div>\r\n        </div>\r\n        <div className='illustration-right'>\r\n          <img src={isMobile() ? illustrationm : illustration} alt='' />\r\n        </div>\r\n      </div>\r\n      <div className='connect-wallet-box'>\r\n        <div className='connect-wallet-box-conent'>\r\n          <div>\r\n            Get Involved in Our Exciting Activities🤟\r\n          </div>\r\n          {!walletContext.isConnected() ?\r\n            <Button label=\"CONNECT WALLET\" className='m-connect' onClick={openWalletModal} width={405} height={60} fontWeight={700} fontColor='#FFF' fontSize='20' />\r\n            : <div className='acc-wrapper'>\r\n              <Icon token={SUPPORTED_WALLETS[walletContext.connector].icon} width='40' />\r\n              <div onClick={wallet.connect}>{formatAddress(wallet.detail.account)}</div>\r\n            </div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className='anniversary-activity'>\r\n      <div className='anniversary-activity-title'>\r\n        <span className=' color-text'>Get Involved in Our Exciting Activities </span> &#129395;\r\n      </div>\r\n      <div className='anniversary-activity-info'>\r\n        {list.map((item, index) => {\r\n          return <Card info={item} wallet={wallet} key={index} />;\r\n        })}\r\n      </div>\r\n    </div>\r\n    <WalletModal>\r\n      <WalletDialog walletContext={walletContext} closeModal={closeWalletModal} lang={lang} wallet={wallet} isWrongNetwork={isWrongNetwork} />\r\n    </WalletModal>\r\n  </div>)\r\n}\r\n\r\nfunction Card({ info, wallet }) {\r\n  const [timeText, setTimeText] = useState(\"\")\r\n  const [isCheckIn, setIsCheckIn] = useState(false)\r\n  const [isDrop, setIsDrop] = useState(false)\r\n  const [isStart, setIsStrat] = useState(info.isStart)\r\n\r\n  const getIsCheckIn = useCallback(async () => {\r\n    let path = \"https://anniversary.deri.io/checkin\"\r\n    let res = await axios.get(path, {\r\n      params: {\r\n        address: wallet.detail.account\r\n      }\r\n    })\r\n    console.log(res.data)\r\n    if (res.data) {\r\n      setIsCheckIn(res.data.result.status)\r\n      if (res.data.result.address.toLocaleLowerCase() === wallet.detail.account.toLocaleLowerCase()) {\r\n        const now = new Date();\r\n        const utc10 = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), 10);\r\n        // 将 UTC 时间的 10 点转换成时间戳\r\n        const utc10timestamp = utc10.getTime();\r\n\r\n        // 获取前一天的日期\r\n        const yesterday = new Date(now - 24 * 60 * 60 * 1000);\r\n        const yesterdayYear = yesterday.getFullYear();\r\n        const yesterdayMonth = yesterday.getMonth() + 1;\r\n        const yesterdayDate = yesterday.getDate();\r\n\r\n        // 将时间戳转换成日期对象\r\n        const timestamp = res.data.result.timestamp * 1000;\r\n        const date = new Date(timestamp);\r\n        const year = date.getFullYear();\r\n        const month = date.getMonth() + 1;\r\n        const day = date.getDate();\r\n        if (year === yesterdayYear && month === yesterdayMonth && day <= yesterdayDate) {\r\n          if (utc10timestamp < now.getTime()) {\r\n            setIsDrop(true)\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n  }, [wallet])\r\n\r\n  const checkIn = useCallback(async () => {\r\n    let path = `https://anniversary.deri.io/checkin?address=${wallet.detail.account}`\r\n    let res = await axios.post(path)\r\n    console.log(res)\r\n    if (res.data && res.data.result.address) {\r\n      let bool = res.data.result.address.toLocaleLowerCase() === wallet.detail.account.toLocaleLowerCase()\r\n      if (bool) {\r\n        setIsCheckIn(bool)\r\n      }\r\n    }\r\n  }, [wallet.detail.account])\r\n\r\n\r\n  const click = useCallback(async () => {\r\n    if (!isDrop) {\r\n      info.link && window.open(info.link)\r\n    } else if (isDrop && wallet.detail.account) {\r\n      if (!info.isWallet) {\r\n        info.link && window.open(info.link)\r\n      } else {\r\n        window.open(\"https://galxe.com/DeriProtocol/campaign/GChLLU4kcC\")\r\n      }\r\n    }\r\n  }, [info, wallet.detail.account, isCheckIn, isDrop])\r\n\r\n  useEffect(() => {\r\n    if (wallet.detail.account && info.isWallet) {\r\n      getIsCheckIn()\r\n      checkIn()\r\n    }\r\n  }, [wallet.detail.account])\r\n\r\n  useEffect(() => {\r\n    let outTime;\r\n    if (info && info.time) {\r\n      outTime = setInterval(() => {\r\n        let time = new Date()\r\n        let timestamp = (time.getTime()) / 1000\r\n        let lefttime = info.time - timestamp;\r\n        var d = parseInt(lefttime / (24 * 60 * 60))\r\n        var h = parseInt(lefttime / (60 * 60) % 24);\r\n        var m = parseInt(lefttime / 60 % 60);\r\n        if (d < 0 || h < 0 || m < 0) {\r\n          setIsStrat(false)\r\n          return false\r\n        }\r\n        let text = `${d}D : ${h}H : ${m}M`\r\n        setTimeText(text)\r\n      }, 1000);\r\n    }\r\n    return () => {\r\n      outTime && clearInterval(outTime)\r\n    }\r\n  }, [timeText]);\r\n  return (\r\n    <div className={classNames(\"activity-card-info\", { \"isStart-activity\": !isStart })}>\r\n      {!isStart && <div className='has-not-started'>\r\n\r\n      </div>}\r\n      <div className='activity-card-info-box'>\r\n        <div className='activity-card-info-box-header'>\r\n          <div className={classNames({ 'color-text': isStart })}>\r\n            {info.id}\r\n          </div>\r\n          {isStart && <div className='timeout'>\r\n            {timeText}\r\n          </div>}\r\n          {!isStart && info.time && <div className='timeout'>\r\n            END\r\n          </div>}\r\n        </div>\r\n        <div className='activity-card-info-box-img'>\r\n          <img src={info.img} alt={info.id} />\r\n        </div>\r\n        <div className='activity-card-info-box-text'>\r\n          {info.text}\r\n        </div>\r\n        <div className='activity-card-info-box-button'>\r\n          <Button className=\"button-more\" onClick={click} label={(info.isWallet && isDrop) ? \"LUCKY DRAW\" : info.buttonText} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default inject('wallet', 'intl')(observer(Anniversary))"],"sourceRoot":""}